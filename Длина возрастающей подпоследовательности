#define _CRT_SECURE_NO_WARNINGS
#include<iostream>
#include<cstdio>
#include<cstdlib>
#include<time.h>

int main(){
	int a, b, c, d, e,f, max;
	scanf("%i", &a);
	int *q = (int*)malloc((a)* sizeof(int));
	int *s = (int*)malloc((a)* sizeof(int));
	int *r = (int*)malloc((a)* sizeof(int));
	s[0] = -30000;
	for (b = 0; b < a; b++)
		scanf("%i", &q[b]);
	for (b =1; b < a+1; b++)
		s[b] = 30000;
	e = 0;
	c = 1;
	max = 0;
	for (b = 0; b < a; b++){
		while (q[b]>s[e])
			e++;
		if (q[b] < s[e]){
			s[e] = q[b];
			if (e > max){
				max = e;
				for (f = 1; f <= e; f++)
					r[f] = s[f];
			}
		}
		e = 0;
	}
	for (b = 1; b <= max; b++)
			printf("%i ", r[b]);
			
	printf("\n%i", max);
	return(0);
}
	
